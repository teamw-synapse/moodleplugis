/**
 * Add a create new group modal to the page.
 *
 * @module     local_studentdashboard/register
 * @class      register
 * @package    local_studentdashboard
 * @copyright  2017 Shivani
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */ define(["jquery","core/str","core/modal_factory","core/modal_events","core/fragment","core/templates","core/ajax","core/yui"],function(t,e,o,n,i,r,a,c){var s=function(t){this.userid=t.userid,this.courseid=t.courseid,this.init(t)};return s.prototype.modal=null,s.prototype.contextid=-1,s.prototype.init=function(n){var i=this;return e.get_string("assignsments","block_facultydashboard").then((function(t){return o.create({type:o.types.DEFAULT,title:t,body:i.getBody(),footer:this.getFooter()})}).bind(i)).then((function(e){return i.modal=e,i.modal.setLarge(),this.modal.getFooter().find('[data-action="cancel"]').on("click",function(){e.destroy()}),this.modal.getFooter().find('[data-action="skip"]').on("click",function(){i.args.form_status=i.args.form_status+1;var t=i.getBody();e.setBody(t)}),this.modal.show(),this.modal.getRoot().animate({right:"0%"},500),t(".close").click(function(){e.destroy()}),this.modal}).bind(this))},s.prototype.getBody=function(){return(params={}).userid=this.userid,params.courseid=this.courseid,i.loadFragment("block_facultydashboard","assignment_details",5,params)},s.prototype.getFooter=function(){return'<button type="button" class="btn btn-secondary" data-action="cancel">Cancel</button>'},{init:function(t){return new s(t)},load:function(){},deleteConfirm:function(t){return e.get_strings([{key:"confirm"},{key:"deleteconfirm",component:"local_studentdashboard",param:t},{key:"deleteallconfirm",component:"local_studentdashboard"},{key:"delete"}]).then((function(e){o.create({title:e[0],type:o.types.SAVE_CANCEL,body:e[1]}).done((function(o){this.modal=o,o.setSaveButtonText(e[3]),o.getRoot().on(n.yes,(function(e){e.preventDefault(),t.confirm=!0,console.log(t);var o={};o.id=t.id,o.contextid=t.contextid,a.call([{methodname:"local_studentdashboard_delete_employee",args:o}])[0].done(function(t){window.location.href=window.location.href}).fail(function(t){console.log(t)})}).bind(this)),o.show()}).bind(this))}).bind(this))}}});